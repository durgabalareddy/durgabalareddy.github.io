<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=us-ascii">
<TITLE></TITLE>
<META NAME="GENERATOR" CONTENT="OpenOffice 4.1.1  (FreeBSD/amd64)">
<META NAME="CREATED" CONTENT="20180320;19281400">
<META NAME="CHANGED" CONTENT="0;0">
<STYLE TYPE="text/css">
	<!--
		@page { margin: 0.79in }
		P { margin-bottom: 0.08in }
		PRE.cjk { font-family: "Courier", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<PRE CLASS="western">import java.lang.*;
import java.util.*;
//vehicle class
class Vehicle {

    Owner ownerObj;
    int slotNo,parkingDuration;
    String vehicleNo,vehicleType;

    public Vehicle() {

    }

    public Vehicle(Owner owner,String s,int i,String st,int i1) {

    }

    public Owner getOwner() {
        return ownerObj;
    }

    public void setOwner(Owner owner) {
        this.ownerObj = owner;
    }

    public String getVehicleNo() {
        return vehicleNo;
    }

    public void setVehicleNo(String vehicleNo) {
        this.vehicleNo = vehicleNo;
    }

    public int getSlotNo() {
        return slotNo;
    }

    public void setSlotNo(int slotNo) {
        this.slotNo = slotNo;
    }

    public int getParkingDuration() {
        return parkingDuration;
    }

    public void setParkingDuration(int parkingDuration) {
        this.parkingDuration = parkingDuration;
    }

    public String getVehicleType() {
        return vehicleType;
    }

    public void setVehicleType(String vehicleType) {
        this.vehicleType = vehicleType;
    }
}


//owner class
class Owner {

    String ownerName;
    String ownerAddress;
    String ownerEmail;
    Long mobileNo;

    public Owner() {

    }

    public Owner(String ownerName, String ownerAddress, String ownerEmail, Long mobileNo) {
        this.ownerName = ownerName;
        this.ownerAddress = ownerAddress;
        this.ownerEmail = ownerEmail;
        this.mobileNo = mobileNo;
    }

    public String getOwnerName() {
        return ownerName;
    }

    public void setOwnerName(String ownerName) {
        this.ownerName = ownerName;
    }

    public String getOwnerAddress() {
        return ownerAddress;
    }

    public void setOwnerAddress(String ownerAddress) {
        this.ownerAddress = ownerAddress;
    }

    public String getOwnerEmail() {
        return ownerEmail;
    }

    public void setOwnerEmail(String ownerEmail) {
        this.ownerEmail = ownerEmail;
    }

    public Long getMobileNo() {
        return mobileNo;
    }

    public void setMobileNo(Long mobileNo) {
        this.mobileNo = mobileNo;
    }
}
//VehicleParking interface

interface VehicleParking {

    boolean addVehicleToSlot(Vehicle vehicle);

    int  countUnassignedVehicles();

    ArrayList&lt;Vehicle&gt; getAllVehicles(String s);

    HashMap&lt;String,Integer&gt; getCountAllVehicles();

    boolean updateAllottedTime(int i,String s);
}

class SlotNotFoundException extends Exception{

    public SlotNotFoundException(String s){
        super(s);
    }
}


//InvalidSlotException class
class InvalidSlotException extends Exception{

    public InvalidSlotException(String s) {
        super(s);
    }
}

//vehicle comparator

class VehicleComparator {
    public int comparator(Vehicle v1,Vehicle v2){
        if(v1.getSlotNo()&gt;v2.getSlotNo())
            return 1;
        else
            return 0;
    }
}


// ParkingManagement class


public class ParkingManagement implements VehicleParking{

    static Vehicle vehicle;
    static ParkingManagement p;
    static Scanner s = new Scanner(System.in);
    static ArrayList&lt;Vehicle&gt; car_list,truck_list,twoWh_list, ret_list;
    static int[] twoWh,car,truck;
    static int c1,c2,c3,owncount;

    @Override
    public boolean addVehicleToSlot(Vehicle vehicle) {

        return false;
    }

    @Override
    public int countUnassignedVehicles() {
        return owncount;
    }

    @Override
    public ArrayList&lt;Vehicle&gt; getAllVehicles(String s) {
//        s = s.toLowerCase();
        ret_list = new ArrayList&lt;Vehicle&gt;();
        if (s.contains(&quot;two&quot;))
            ret_list = twoWh_list;
        else if (s.contains(&quot;car&quot;))
            ret_list = car_list;
        else if (s.contains(&quot;truck&quot;))
            ret_list = truck_list;

        VehicleComparator vehicleComparator = new VehicleComparator();

        System.out.println(ret_list.size());

        for(int i=0;i&lt;ret_list.size();i++)
            System.out.println(ret_list.get(i).slotNo+&quot; &quot;);

        for (int i = 0; i &lt; ret_list.size()-1; i++) {
            for (int j = 0; j &lt; ret_list.size()-i-1; j++) {
                if(vehicleComparator.comparator(ret_list.get(j),ret_list.get(j+1))==1){
                    int temp = ret_list.get(i).getSlotNo();
                    ret_list.get(i).setSlotNo(ret_list.get(i+1).getSlotNo());
                    ret_list.get(i+1).setSlotNo(temp);
                }
            }
        }
        return ret_list;
    }

    @Override
    public HashMap&lt;String, Integer&gt; getCountAllVehicles() {
        HashMap&lt;String,Integer&gt; hashmap = new HashMap&lt;String,Integer&gt;();
        hashmap.put(&quot;two&quot;,twoWh_list.size());
        hashmap.put(&quot;truck&quot;,truck_list.size());
        hashmap.put(&quot;car&quot;,car_list.size());
        return hashmap;
    }

    @Override
    public boolean updateAllottedTime(int i, String s) {
        vehicle.setParkingDuration(i);
        return false;
    }

    public static void main(String[] args){
        p = new ParkingManagement();

        twoWh = new int[40];
        car = new int[40];
        truck = new int[40];

        car_list = new ArrayList&lt;Vehicle&gt;();
        twoWh_list = new ArrayList&lt;Vehicle&gt;();
        truck_list = new ArrayList&lt;Vehicle&gt;();

        boolean j=true;

        while(j) {
            System.out.println(&quot;Enter your choice\n&quot;);
            System.out.println(&quot;1.Add Vehicle&quot;);
            System.out.println(&quot;2. Update Allotted time &quot;);
            System.out.println(&quot;3. get Count of all vehicles&quot;);
            System.out.println(&quot;4. get all vehicles of a certain category: &quot;);
            System.out.println(&quot;5. Count unassigned vehicles &quot;);
            System.out.println(&quot;6.EXIT&quot;);
            int choice = s.nextInt();

            switch(choice) {
                case 1: addVehicle();
                        break;

                case 2: vehicleDetails();
                        break;

                case 3:
                        System.out.println(p.getCountAllVehicles());
                        break;

                case 4:
                        System.out.println(&quot;Enter the category you want ..\n1.car\n2.truck\n3.two wheelers&quot;);
                        int ch = s.nextInt();
                        String cate = (ch==1?&quot;car&quot;:(ch==2)?&quot;truck&quot;:&quot;two&quot;);
                        ArrayList&lt;Vehicle&gt; a = p.getAllVehicles(cate);
                        for(int i=0;i&lt;a.size();i++)
                            System.out.println(a.get(i).getParkingDuration() +&quot; &quot;+a.get(i).getVehicleType()+&quot; &quot;+a.get(i).getSlotNo()+&quot; &quot;+a.get(i).getVehicleNo());
                        break;

                case 5:
                        System.out.println(p.countUnassignedVehicles());
                        break;

                case 6: System.exit(0);
                        break;

                default: System.exit(0);
            }
        }
    }

    private static void vehicleDetails() {
        System.out.println(&quot;Enter the type of the vehicle to Filter &quot;);
        String text = s.next();
        System.out.println(&quot;The current vehicle parking allotted time is &quot;+vehicle.getParkingDuration()+&quot;\nEnter the required time &quot;);
        int i = s.nextInt();
        p.updateAllottedTime(i,text);
    }

    private static void addVehicle() {

        vehicle = new Vehicle();

        System.out.println(&quot;Enter parking duration time: &quot;);
        vehicle.setParkingDuration(s.nextInt());

        System.out.println(&quot;Enter vehicle no: &quot;);
        vehicle.setVehicleNo(s.next());

        System.out.println(&quot;Enter vehicle type &quot;);
        vehicle.setVehicleType(s.next());

        System.out.println(&quot;Do you want to enter the owner details: &quot;);
        String check = s.next();
        if(check.contains(&quot;Y&quot;)||check.contains(&quot;y&quot;)) {
            Owner owner = new Owner();
            System.out.println(&quot;Enter the name of the Owner &quot;);
            owner.setOwnerName(s.next());

            System.out.println(&quot;Enter the address of the owner &quot;);
            owner.setOwnerAddress(s.next());

            System.out.println(&quot;Enter the email of the owner &quot;);
            owner.setOwnerEmail(s.next());

            System.out.println(&quot;Enter the mobile no. of the owner &quot;);
            owner.setMobileNo(s.nextLong());

            vehicle.setOwner(owner);
        }

        else {
            owncount++;
        }

        System.out.println(&quot;Enter slot no: &quot;);
        int slot = s.nextInt();
        checkForException(slot);
        enterSlot(vehicle,vehicle.getVehicleType().toLowerCase(),slot);


        System.out.println(c1+&quot; &quot;+c2+&quot; &quot;+c3);
        //System.out.println(vehicle.getParkingDuration()+&quot; &quot;+vehicle.getSlotNo());
    }

    private static void checkForException(int slot) {
        if(slot&gt;=40){
            try {
                throw new InvalidSlotException(&quot;Slot already allotted&quot;);
            }
            catch (InvalidSlotException e){
                e.printStackTrace();
            }
        }
        else
            vehicle.setSlotNo(slot);
    }

    private static void enterSlot(Vehicle vehicle,String vehicleType,int slot) {

        if(vehicleType.contains(&quot;two&quot;)) {
            if (twoWh[slot] != 1) {
                twoWh_list.add(vehicle);
                twoWh[slot] = 1;
                c1++;
            }
            else {
                try {
                    throw new SlotNotFoundException(&quot;No slot allotted!&quot;);
                }
                catch (SlotNotFoundException e){
                    e.printStackTrace();
                }
            }
        }

        else if(vehicleType.contains(&quot;car&quot;)) {
            if (car[slot] != 1) {
                car_list.add(vehicle);
                car[slot] = 1;
                c2++;
            }
            else {
                try {
                    throw new SlotNotFoundException(&quot;No slot allotted!&quot;);
                }
                catch (SlotNotFoundException e){
                    e.printStackTrace();
                }
            }
        }

        else if(vehicleType.contains(&quot;truck&quot;)) {
            if (truck[slot] != 1) {
                truck_list.add(vehicle);
                truck[slot] = 1;
                c3++;
            }
            else {
                try {
                    throw new SlotNotFoundException(&quot;No slot allotted!&quot;);
                }
                catch (SlotNotFoundException e){
                    e.printStackTrace();
                }
            }
        }
    }

    private void sortVehicle(String s) {

    }
}</PRE>
</BODY>
</HTML>
